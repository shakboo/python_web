{% extends 'base.html' %}

{% block main %}


<form action="{% url 'vote:detail' question.id %}" method="post">
    {% csrf_token %}
    <h3 class="text-center">{{ question.title }}</h3>
    {% if question.choose == 'choose_vote' %}
    <table class="table table-striped">
         <thead>
            <tr>
              <th class="text-center">内容</th>
              <th class="text-center">选择</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                {% for choice in question.choice_set.all %}
                <td class="text-center" width="50%">{{ choice.choice_text }}</td>
                <td class="text-center" width="50%"><label><input type="checkbox" name="choice" value="{{ choice.id }}" id="choice{{ forloop.counter }}"></label></td>
                {% endfor %}
            </tr>
        </tbody>
    </table>
    <div class="text-center"><button type="submit" class="btn btn-default">确认投票</button></div>

    {% elif question.choose == 'choose_qa' %}
        {% for choice in question.choice_set.all %}
    <div class="input-group" style="margin:0 10% 0 10%">
        <span class="input-group-addon">{{ choice.choice_text }}</span>
        {# 该条隐藏的input是为了给后台定位 #}
        <input type="text" name="choice" value="{{ choice.id }}" id="choice{{ forloop.counter }}" style="display:none">
        <input type="text" name="{{ choice.id }}" placeholder="请输入" class="form-control">
    </div>
    <br>
        {% endfor %}
    <br>
    <div class="text-center"><button type="submit" class="btn btn-default">确认提交</button></div>
    {% endif %}
</form>

{% endblock %}